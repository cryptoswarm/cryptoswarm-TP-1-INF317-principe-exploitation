#include <stdio.h> 
#include <string.h> 
#include <fcntl.h> 
#include <sys/stat.h> 
#include <sys/types.h> 
#include <unistd.h> 
#include <stdlib.h>
#include <math.h>
#include <fcntl.h>
#include <signal.h> 
#include "calculMath.h"

double calculerSurfSquare(int x)
{
	return pow(x, 2);
}

double calculerSurfRectangle(int x, int y)
{
	return x*y;
}
double calculerSurfTriangle(int x, int y)
{
	return ( (double)x * y ) / 2;
}

double calculerSurfCercle(int x)
{
	double Pi = 3.14;
	return Pi * pow(x, 2);
}
int calculerPerimetreRectangle( int x, int y){
	return ( x + y) * 2;
}
int calculerPerimetreCarre( int x ){
	return x*4;
}

double calculerPerimetreCercle( int rayon ){
	double Pi = 3.14;
	return 2 * Pi * rayon;
}

char * calculerSurface(char **x)
{
	double surface = 0.0;
	char *reponse;
	int perimetre =0;
	double circonfirence;
	reponse = (char*)malloc(50);
	if(strcmp(x[4], "Su*") == 0 && strcmp(x[5], "C*")==0 ){

		surface = calculerSurfSquare( atoi( x[2] ) );
		sprintf(reponse, "la surface du carr√© est : %f", surface);

	}else if( strcmp(x[4], "Su*") == 0 && strcmp(x[5], "R")==0 ){

		surface = calculerSurfRectangle( atoi( x[2] ), atoi( x[3] ) );
		sprintf(reponse, "la surface du rectangle est : %f", surface);

	}else if( strcmp(x[4], "Su*") == 0 && strcmp(x[5], "T")==0 ){

		surface = calculerSurfTriangle( atoi( x[2] ), atoi( x[3] ) );
		sprintf(reponse, "la surface du tiangle est : %f", surface);

	}else if( strcmp(x[4], "Su*") == 0 && strcmp(x[5], "Cr")==0 ){
		surface = calculerSurfCercle( atoi( x[2] ) );
		sprintf(reponse, "la surface du cercle est : %f", surface);

	}else if( strcmp(x[4], "Pr") == 0 && strcmp(x[5], "R")==0 ){
		perimetre = calculerPerimetreRectangle( atoi( x[2] ), atoi( x[3] ) );
		sprintf(reponse, "le perimetre du rectangle est : %d", perimetre );
	}else if( strcmp(x[4], "Pr") == 0 && strcmp(x[5], "C*")==0 ){
		perimetre = calculerPerimetreCarre( atoi( x[2] ) );
		sprintf(reponse, "le perimetre du carre est : %d", perimetre );
	}else if( strcmp(x[4], "Pr") == 0 && strcmp(x[5], "Cr")==0 ){
		circonfirence = calculerPerimetreCercle( atoi( x[2] ) );
		sprintf(reponse, "le perimetre du cercle est : %f", circonfirence );
	}else{
		surface = 0.0;
		sprintf(reponse, "la requete est mal formee donc la surface est : %f", surface);
	}
	return reponse;
}
